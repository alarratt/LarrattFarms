---
import { getCollection } from 'astro:content'
import BaseLayout from "../layouts/BaseLayout.astro"
import BlogPost from "../components/BlogPost.astro"
const pageTitle = "My learning blog"
const allPosts = await getCollection('blog');
---

<BaseLayout pageTitle = {pageTitle}>
	<slot>
		<h1>My Astro Blog</h1>
		<ul>	
		{allPosts.map(post => (
			<li><a href={`/blogbuilding/${post.id}`}>{post.data.title}</a></li>
		  ))}
		</ul>
	<slot/>
</BaseLayout>